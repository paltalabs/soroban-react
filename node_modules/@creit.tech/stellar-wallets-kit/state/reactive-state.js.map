{"version":3,"file":"reactive-state.js","sources":["../../src/state/reactive-state.ts"],"sourcesContent":["import { ReactiveController, ReactiveControllerHost } from 'lit';\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs';\n\nexport class ReactiveState<T> implements ReactiveController {\n  sub: Subscription | null = null;\n  value$: BehaviorSubject<T | undefined> = new BehaviorSubject<T | undefined>(undefined);\n\n  constructor(private host: ReactiveControllerHost, private source: Observable<T>, public value?: T) {\n    this.host.addController(this);\n  }\n\n  hostConnected() {\n    this.sub = this.source.subscribe(value => {\n      this.value = value;\n      this.value$.next(value);\n      this.host.requestUpdate();\n    });\n  }\n\n  hostDisconnected() {\n    this.sub?.unsubscribe();\n  }\n}\n"],"names":["ReactiveState","constructor","host","source","value","this","sub","value$","BehaviorSubject","addController","hostConnected","subscribe","next","requestUpdate","hostDisconnected","unsubscribe"],"mappings":"uCAGO,MAAMA,EAIX,WAAAC,CAAoBC,EAAsCC,EAA8BC,GAApEC,KAAAH,KAAAA,EAAsCG,KAAAF,OAAAA,EAA8BE,KAAAD,MAAAA,EAH7DC,KAAAC,IAAA,KACcD,KAAAE,OAAA,IAAIC,OAA+B,GAGrEH,KAAAH,KAAKO,cAAcJ,KAAI,CAG9B,aAAAK,GACEL,KAAKC,IAAMD,KAAKF,OAAOQ,WAAmBP,IACxCC,KAAKD,MAAQA,EACRC,KAAAE,OAAOK,KAAKR,GACjBC,KAAKH,KAAKW,eAAc,GACzB,CAGH,gBAAAC,GACET,KAAKC,KAAKS,aAAY"}