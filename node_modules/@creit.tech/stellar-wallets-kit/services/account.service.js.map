{"version":3,"file":"account.service.js","sources":["../../src/services/account.service.ts"],"sourcesContent":["import { firstValueFrom } from 'rxjs';\nimport { horizonUrl$ } from '../state/store';\n\nexport async function fetchAccountBalance(pk: string): Promise<string> {\n  const horizonUrl: string | undefined = await firstValueFrom(horizonUrl$);\n  if (!horizonUrl) {\n    throw new Error('There is no Horizon URL set');\n  }\n  const url: URL = new URL(horizonUrl);\n  url.pathname = `/accounts/${pk}`;\n  const response: Response = await fetch(url);\n  const data = await response.json();\n  const nativeBalance = data.balances.find((b: { asset_type: string }): boolean => b.asset_type === 'native');\n  return nativeBalance.balance;\n}\n"],"names":["async","fetchAccountBalance","pk","horizonUrl","firstValueFrom","horizonUrl$","Error","url","URL","pathname","response","fetch","json","balances","find","b","asset_type","balance"],"mappings":"sFAGAA,eAAsBC,EAAoBC,GAClC,MAAAC,QAAuCC,EAAeC,GAC5D,IAAKF,EACG,MAAA,IAAIG,MAAM,+BAEZ,MAAAC,EAAW,IAAIC,IAAIL,GACrBI,EAAAE,SAAW,aAAaP,IACtB,MAAAQ,QAA2BC,MAAMJ,GAGvC,aAFmBG,EAASE,QACDC,SAASC,MAAMC,GAAwD,WAAjBA,EAAEC,aAC9DC,OACvB"}